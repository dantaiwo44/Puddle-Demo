{% extends "core/base.html" %}

{% block title %} Welcome {% endblock %}


{% block content %}

  <h1 class="text-3xl font_bold underline"> 
    Welcome to Puddle Index Page!
  </h1>

  <div class="mt-6 px-6 py-12 bg-gray-100 rounded-xl">
    <h2 class="mb-12 text-2xl text-center">Latest Items</h2>

    <div class="grid grid-cols-3 gap-3">
      {% for item in items %}
        <div>
          <a href="{% url 'items:item_detail' item.id %}" class="block shadow-lg rounded-xl overflow-hidden hover:shadow-2xl transition-shadow duration-300">
            <div>
              {% if item.image %}
                <img src="{{ item.image.url }}" alt="{{ item.name }}" class="rounded-t-xl w-full h-auto">
              {% endif %}
            </div>

            <div class="p-6 bg-white rounded-b-xl">
              <h2 class="text-2xl">{{ item.name }}</h2>
              <p class="text-gray-500 mt-2">{{ item.description }}</p>
              <p class="text-gray-700 font-semibold mt-2">Price: ${{ item.price|floatformat:2 }}</p>
              <p class="text-sm text-gray-500 mt-2">Category: {{ item.category.name }}</p>
            </div>
          </a>
        </div>
      {% empty %}
        <p>No items available.</p>
      {% endfor %}
    </div>
  </div>

  <div class="mt-6 px-6 py-12 bg-gray-100 rounded-xl">
    <h2 class="mb-12 text-2xl text-center">Categories</h2>

    <div class="grid grid-cols-3 gap-3">
      {% for category in categories %}
        <div>
          <a href="#">
            <div class="p-6 bg-white rounded-xl">
              <h2 class="text-2xl">{{ category.name }}</h2>
              <p class="text-gray-500">
                {{ category.item_count }} items
              </p>
            </div>
          </a>
        </div>
      {% empty %}
        <p>No categories available.</p>
      {% endfor %}
    </div>
  </div>

{% endblock %}